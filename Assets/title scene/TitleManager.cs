using UnityEngine;
using UnityEngine.UI;
using System.Collections;
using System.Collections.Generic;
using Prototype.NetworkLobby;


public class TitleManager : MonoBehaviour 
{
    public GameObject btnPlaySinGo;
    public GameObject MapList;
	public GameObject MapPreview;
    public Image volumnImg;
    public Sprite volumnOn;
    public Sprite volumnOff;
    public Toggle volumnToggle;
    public BGM bgm;
    

    public void Start()
    {
        //#if UNITY_ANDROID
        if (!PlayerPrefs.HasKey("allMap"))
        {
            //PlayerPrefs.SetString("allMap", "1;0,1,-6.82,3.74,/0,1,-11.47667,1.32,/0,1,-7.296667,-3.593333,/0,1,-1.356667,0.1466665,/0,3,4.766667,4.033333,/0,3,8.506667,0.2199998,/0,3,4.656667,-4.07,/[5/20/10/30/15/40/'2;0,1,-5.646667,5.243334,/0,1,-12.54,1.393333,/0,1,-6.6,-3.336667,/0,0,-2.86,0.6599994,/0,0,3.3,0.3666663,/0,3,6.563334,5.39,/0,3,11.73333,0.2199998,/0,3,5.610001,-4.656667,/[5/20/10/30/15/40/'3;1,0,-0.4399996,1.43,/0,1,-5.096667,5.316667,/0,1,-9.936666,1.1,/0,1,-6.196667,-3.3,/0,3,5.279999,-4.693334,/0,3,9.020001,0.3299997,/0,3,4.693333,5.61,/[5/20/10/30/15/40/'4;2,0,-1.54,0.9166671,/1,0,-7.186667,0.6599994,/1,0,4.84,0.7333339,/0,1,-15.10667,2.383334,/0,1,-13.60333,6.49,/0,1,-9.57,8.030001,/0,1,-5.206667,8.25,/0,3,5.206667,-4.986667,/0,3,9.276666,-4.033333,/0,3,12.43,-1.246667,/0,3,13.42,2.896667,/[5/20/10/30/15/40/'5;1,1,-1.356667,1.576666,/0,1,-5.536667,1.393333,/0,1,3.520001,1.283333,/0,3,10.48667,3.74,/0,3,10.52333,-2.42,/0,2,-10.67,5.17,/0,2,-11.25667,-1.686666,/[5/20/10/30/15/40/'6;2,1,-2.273333,2.200001,/0,3,-7.003334,7.92,/0,3,4.216668,7.81,/0,3,-8.213333,-4.326666,/0,3,4.436666,-4.766667,/0,3,9.386666,1.833333,/0,3,-11,2.346667,/[5/20/10/30/15/40/'7;0,1,-14.96,5.72,/0,1,-15.10667,0.9166671,/0,1,-15.32667,-3.813334,/0,3,15.32667,6.196667,/0,3,15.10667,1.87,/0,3,15.10667,-3.996667,/0,0,-10.08333,4.363333,/0,0,-10.89,-1.613333,/0,0,11.44,3.96,/0,0,11.44,-1.723334,/1,0,-0.4399996,1.136667,/0,0,-5.94,0.6233327,/0,0,-3.666667,7.296666,/0,0,-3.410001,-5.316667,/0,0,7.296667,1.136667,/0,0,3.85,6.783333,/0,0,3.556667,-4.216667,/[5/20/10/30/15/40/'8;1,1,-9.68,-4.253333,/1,3,8.396667,-4.51,/1,2,8.360001,8.506666,/1,4,-9.423333,8.433333,/0,0,-7.7,1.063334,/0,0,1.21,-2.236666,/0,0,4.84,4.363333,/0,0,-3.703334,7.15,/2,0,-2.053334,2.31,/[5/20/10/30/15/40/'9;0,1,-14.00667,-5.316667,/0,1,-6.27,-0.66,/1,0,-1.65,1.979999,/0,3,2.786666,-0.3299997,/0,2,2.603333,5.463333,/0,4,-5.756667,4.766666,/0,4,-10.15667,7.626667,/0,2,9.166668,9.02,/0,3,8.433332,-4.583333,/[5/20/10/30/15/40/'10;2,1,-15.03333,1.1,/1,1,-10.08333,-4.07,/1,1,-9.716667,5.17,/0,1,-4.510001,8.763332,/0,1,-4.583334,1.246667,/0,1,-4.62,-4.876667,/2,3,12.90667,1.503333,/1,3,7.956667,-2.786667,/1,3,8.213334,5.133334,/0,3,2.2,8.91,/0,3,1.979999,1.136667,/0,3,1.796667,-4.803333,/[5/20/10/30/15/40/'11;0,1,-14.55667,-4.766667,/0,3,14.77667,-5.243334,/0,2,15.54667,9.056667,/0,4,-15.4,8.983334,/0,0,-15.18,3.996667,/0,0,-15.14333,-0.5500001,/0,0,-12.28333,1.723333,/0,0,-10.15667,5.096667,/0,0,-9.936666,-1.613333,/0,0,-7.223333,1.21,/0,0,-4.326667,4.363333,/0,0,-3.813333,-2.053333,/0,0,-1.503333,1.21,/0,0,1.686666,4.583333,/0,0,2.236666,-2.09,/0,0,14.88667,4.18,/0,0,14.96,-0.8799998,/0,0,11.91667,1.686666,/0,0,8.763334,4.693333,/0,0,8.873335,-2.126667,/0,0,5.426666,1.576666,/0,0,-7.223333,-4.766667,/0,0,-0.8800002,-4.803333,/0,0,5.573334,-4.693334,/0,0,-7.113333,8.176666,/0,0,-1.136667,8.433333,/0,0,5.023335,8.25,/[5/20/10/30/15/40/'12;2,1,-13.2,-3.373333,/2,3,11.66,-3.74,/2,2,-1.173333,7.846667,/0,2,-3.006667,3.299999,/0,2,2.273334,3.52,/0,3,5.866667,-4.62,/0,3,7.333333,-0.5133335,/0,1,-8.176667,-0.4766669,/0,1,-6.05,-4.106667,/[5/20/10/30/15/40/'");
            PlayerPrefs.SetString("allLevel", "0");
        }
        //#endif


        if (LobbyManager.s_Singleton != null) { Destroy(LobbyManager.s_Singleton.gameObject); }

        volumnToggle.isOn = (PlayerPrefs.GetInt(bgm.IS_MUSIC_ON, 1) == 1);
        volumnImg.sprite = volumnToggle.isOn ? volumnOn : volumnOff;

    }
	public void OnBtnCampaign()
	{
        UnityEngine.SceneManagement.SceneManager.LoadScene("Campaign");
	}

    public void OnBtnOnline()
    {
        UnityEngine.SceneManagement.SceneManager.LoadScene("online");
    }

    public void OnBtnLanguage()
    {
        UnityEngine.SceneManagement.SceneManager.LoadScene("language");
    }

    public void OnBtnPvp()
    {
        UnityEngine.SceneManagement.SceneManager.LoadScene("NetworkLobby");
    }

    public void OnBtnExit()
    {
        Application.Quit();
    }

    public void OnToggleVolumn(bool isOn)
    {
        volumnImg.sprite = isOn ? volumnOn : volumnOff;
        bgm.SetMusic(isOn);
        PlayerPrefs.SetInt(bgm.IS_MUSIC_ON, isOn ? 1 : 0);
    }


}
